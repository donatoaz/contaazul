{
  "name": {
    "pt_BR": "nova venda",
    "en": "new sale"
  },
  "trigger_key": "new_sale",
  "description": {
    "pt_br": "Para cada nova venda",
    "en": "For each new sale"
  },
  "trigger_fields": {
    "type": "local",
    "fields": [
      {
        "key": "id",
        "name": {
          "pt_BR": "ID",
          "en": "ID"
        },
        "description": {
          "pt_BR": "ID",
          "en": "ID"
        },
        "field_type": "string"
      },
      {
        "key": "status",
        "name": {
          "pt_BR": "Status",
          "en": "Status"
        },
        "description": {
          "pt_BR": "Status",
          "en": "Status"
        },
        "field_type": "string"
      },
      {
        "key": "emission",
        "name": {
          "pt_BR": "Data/hora de emissão",
          "en": "Emission date/time"
        },
        "description": {
          "pt_BR": "Data/hora de emissão",
          "en": "Emission data/time"
        },
        "field_type": "string"
      },
      {
        "key": "customer.id",
        "name": {
          "pt_BR": "Cliente id",
          "en": "Customer id"
        },
        "description": {
          "pt_BR": "Cliente id",
          "en": "Customer id"
        },
        "field_type": "string"
      },
      {
        "key": "customer.name",
        "name": {
          "pt_BR": "Cliente nome",
          "en": "Customer name"
        },
        "description": {
          "pt_BR": "Cliente nome",
          "en": "Customer name"
        },
        "field_type": "string"
      },
      {
        "key": "customer.company_name",
        "name": {
          "pt_BR": "Cliente empresa",
          "en": "Customer company"
        },
        "description": {
          "pt_BR": "Cliente empresa",
          "en": "Customer company"
        },
        "field_type": "string"
      },
      {
        "key": "customer.email",
        "name": {
          "pt_BR": "Cliente e-mail",
          "en": "Customer e-mail"
        },
        "description": {
          "pt_BR": "Cliente e-mail",
          "en": "Customer e-mail"
        },
        "field_type": "string"
      },
      {
        "key": "customer.business_phone",
        "name": {
          "pt_BR": "Cliente telefone",
          "en": "Customer phone"
        },
        "description": {
          "pt_BR": "Cliente telefone",
          "en": "Customer phone"
        },
        "field_type": "string"
      },
      {
        "key": "customer.mobile_phone",
        "name": {
          "pt_BR": "Cliente celular",
          "en": "Customer mobile phone"
        },
        "description": {
          "pt_BR": "Cliente celular",
          "en": "Customer mobile phone"
        },
        "field_type": "string"
      },
      {
        "key": "customer.person_type",
        "name": {
          "pt_BR": "Cliente tipo de pessoa",
          "en": "Customer person type"
        },
        "description": {
          "pt_BR": "Cliente tipo de pessoa",
          "en": "Customer person type"
        },
        "field_type": "string"
      },
      {
        "key": "customer.document",
        "name": {
          "pt_BR": "Cliente CPF/CNPJ",
          "en": "Customer CPF/CNPJ"
        },
        "description": {
          "pt_BR": "Cliente CPF/CNPJ",
          "en": "Customer CPF/CNPJ"
        },
        "field_type": "string"
      },
      {
        "key": "customer.identity_document",
        "name": {
          "pt_BR": "Cliente RG",
          "en": "Customer RG"
        },
        "description": {
          "pt_BR": "Cliente RG",
          "en": "Customer RG"
        },
        "field_type": "string"
      },
      {
        "key": "customer.state_registration_number",
        "name": {
          "pt_BR": "Cliente inscrição estadual",
          "en": "Customer state registration"
        },
        "description": {
          "pt_BR": "Cliente inscrição estadual",
          "en": "Customer state registration"
        },
        "field_type": "string"
      },
      {
        "key": "customer.state_registration_type",
        "name": {
          "pt_BR": "Cliente tipo de inscrição estadual",
          "en": "Customer state registration type"
        },
        "description": {
          "pt_BR": "Cliente tipo de inscrição estadual",
          "en": "Customer state registration type"
        },
        "field_type": "string"
      },
      {
        "key": "customer.city_registration",
        "name": {
          "pt_BR": "Cliente inscrição municipal",
          "en": "Customer city registration"
        },
        "description": {
          "pt_BR": "Cliente inscrição municipal",
          "en": "Customer city registration"
        },
        "field_type": "string"
      },
      {
        "key": "customer.date_of_birth",
        "name": {
          "pt_BR": "Cliente data de nascimento",
          "en": "Customer date of birth"
        },
        "description": {
          "pt_BR": "Cliente data de nascimento",
          "en": "Customer date of birth"
        },
        "field_type": "string"
      },
      {
        "key": "customer.notes",
        "name": {
          "pt_BR": "Cliente notas",
          "en": "Customer notes"
        },
        "description": {
          "pt_BR": "Cliente notas",
          "en": "Customer notes"
        },
        "field_type": "string"
      },
      {
        "key": "customer.address.street",
        "name": {
          "pt_BR": "Cliente endereço (rua)",
          "en": "Customer address (street)"
        },
        "description": {
          "pt_BR": "Cliente endereço (rua)",
          "en": "Customer address (street)"
        },
        "field_type": "string"
      },
      {
        "key": "customer.address.number",
        "name": {
          "pt_BR": "Cliente endereço (número)",
          "en": "Customer address (number)"
        },
        "description": {
          "pt_BR": "Cliente endereço (número)",
          "en": "Customer address (number)"
        },
        "field_type": "string"
      },
      {
        "key": "customer.address.complement",
        "name": {
          "pt_BR": "Cliente endereço (complemento)",
          "en": "Customer address (complement)"
        },
        "description": {
          "pt_BR": "Cliente endereço (complemento)",
          "en": "Customer address (complement)"
        },
        "field_type": "string"
      },
      {
        "key": "customer.address.zip_code",
        "name": {
          "pt_BR": "Cliente endereço (cep)",
          "en": "Customer address (zip code)"
        },
        "description": {
          "pt_BR": "Cliente endereço (cep)",
          "en": "Customer address (zip code)"
        },
        "field_type": "string"
      },
      {
        "key": "customer.address.neighborhood",
        "name": {
          "pt_BR": "Cliente endereço (bairro)",
          "en": "Customer address (neighborhood)"
        },
        "description": {
          "pt_BR": "Cliente endereço (bairro)",
          "en": "Customer address (neighborhood)"
        },
        "field_type": "string"
      },
      {
        "key": "customer.address.city.name",
        "name": {
          "pt_BR": "Cliente cidade",
          "en": "Customer city"
        },
        "description": {
          "pt_BR": "Cliente cidade",
          "en": "Customer city"
        },
        "field_type": "string"
      },
      {
        "key": "customer.address.state.name",
        "name": {
          "pt_BR": "Cliente estado",
          "en": "Customer state"
        },
        "description": {
          "pt_BR": "Cliente estado",
          "en": "Customer state"
        },
        "field_type": "string"
      },
      {
        "key": "discount.measure_unit",
        "name": {
          "pt_BR": "Disconto unidade de medida",
          "en": "Discount measure unit"
        },
        "description": {
          "pt_BR": "Disconto unidade de medida",
          "en": "Discount measure unit"
        },
        "field_type": "string"
      },
      {
        "key": "discount.rate",
        "name": {
          "pt_BR": "Disconto taxa",
          "en": "Discount rate"
        },
        "description": {
          "pt_BR": "Disconto taxa",
          "en": "Discount rate"
        },
        "field_type": "string"
      },
      {
        "key": "payment.type",
        "name": {
          "pt_BR": "Pagamento tipo",
          "en": "Payment type"
        },
        "description": {
          "pt_BR": "Pagamento tipo",
          "en": "Payment type"
        },
        "field_type": "string"
      },
      {
        "key": "payment.installments",
        "name": {
          "pt_BR": "Pagamento prestações",
          "en": "Payment installments"
        },
        "description": {
          "pt_BR": "Pagamento prestações",
          "en": "Payment installments"
        },
        "field_type": "string"
      },
      {
        "key": "notes",
        "name": {
          "pt_BR": "Notas",
          "en": "Notes"
        },
        "description": {
          "pt_BR": "Notas",
          "en": "Notes"
        },
        "field_type": "string"
      },
      {
        "key": "shipping_cost",
        "name": {
          "pt_BR": "Frete",
          "en": "Shipping cost"
        },
        "description": {
          "pt_BR": "Frete",
          "en": "Shipping cost"
        },
        "field_type": "string"
      },
      {
        "key": "total",
        "name": {
          "pt_BR": "Total",
          "en": "Total"
        },
        "description": {
          "pt_BR": "Total",
          "en": "Total"
        },
        "field_type": "string"
      }
    ]
  },
  "trigger_type": "polling",
  "idempotent": [
    {
      "type": "body",
      "field": "id"
    }
  ],
  "base_datetime_filter": {
    "format": "%Y-%m-%dT%H:%M:%S.%LZ"
  },
  "request": {
    "method_name": "/sales",
    "json_api": true,
    "params": {
      "emission_start": "{base_datetime_filter}",
      "size": 100
    },
    "additional_resources": [
      {
        "method": "/customers/",
        "name": "customer"
      }
    ]
  }
}
